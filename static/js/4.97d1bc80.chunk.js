(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{229:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return f});var a=t(13),o=t(14),r=t(17),i=t(16),l=t(18),s=t(0),p=t.n(s),c=t(231),m=t(230),g=t(226),u=t.n(g),f=function(e){function n(){var e;return Object(a.a)(this,n),(e=Object(r.a)(this,Object(i.a)(n).call(this))).state={lat:51.505,lng:-.09,zoom:13},e}return Object(l.a)(n,e),Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.gpx&&this.props.gpx!==e.gpx&&this.updateMap()}},{key:"updateMap",value:function(){this.parse(this.props.gpx)}},{key:"parse",value:function(e){var n=this;null!==this.refs.mapInstance.leafletElement&&this.refs.mapInstance.leafletElement.eachLayer(function(e){n.refs.mapInstance.leafletElement.removeLayer(e)}),u.a.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(this.refs.mapInstance.leafletElement);var t=new u.a.GPX(e,{async:!0,polyline_options:{color:"green",opacity:.75,weight:3,lineCap:"round"},marker_options:{wptIcons:{Triangle:new u.a.Icon({iconUrl:"img/triangle.png"}),Circle:new u.a.Icon({iconUrl:"img/circle.png"}),Square:new u.a.Icon({iconUrl:"img/square.png"}),Pin:new u.a.Icon({iconUrl:"img/pin.png"}),Flag:new u.a.Icon({iconUrl:"img/flag.png"})},pointMatchers:[{regex:/.\*?/,icon:new u.a.Icon({iconUrl:"img/pin.png"})}],startIconUrl:"http://github.com/mpetazzoni/leaflet-gpx/raw/master/pin-icon-start.png",endIconUrl:"http://github.com/mpetazzoni/leaflet-gpx/raw/master/pin-icon-end.png",shadowUrl:"http://github.com/mpetazzoni/leaflet-gpx/raw/master/pin-shadow.png"},gpx_options:{parseElements:["track","route","waypoint"],joinTrackSegments:!1}}).on("addpoint",function(e){e.point.bindPopup(e.element.getElementsByTagName("name")[0].innerHTML),console.log(e.element.getElementsByTagName("name")[0].innerHTML)}).on("loaded",function(e){var t=e.target;n.refs.mapInstance.leafletElement.fitBounds(t.getBounds())}).addTo(this.refs.mapInstance.leafletElement);u.a.control.layers({},{GPX:t}).addTo(this.refs.mapInstance.leafletElement),this.refs.mapInstance.leafletElement.dragging.disable(),this.refs.mapInstance.leafletElement.dragging.enable()}},{key:"render",value:function(){var e=[this.state.lat,this.state.lng];return p.a.createElement(c.a,{center:e,zoom:this.state.zoom,ref:"mapInstance"},p.a.createElement(m.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}))}}]),n}(p.a.Component)}}]);
//# sourceMappingURL=4.97d1bc80.chunk.js.map